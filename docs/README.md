# 轴类零件加工时间估算系统 - 文档

## 项目简介
轴类零件加工时间估算系统是一个基于Web的应用，旨在通过分析轴类零件的工程图纸，自动识别其几何特征，并根据材料类型和加工工艺，估算出加工所需的时间。系统利用AI技术分析图纸，提取关键几何特征，然后基于机械加工经验和数学模型计算各工序的加工时间。

## 主要功能
- PDF工程图纸上传与分析
- 几何特征自动识别与提取
- 支持多种材料类型的加工参数设置
- 车削、磨削、铣削和螺纹加工时间计算
- 总加工时间汇总与展示

## 使用方法

### 1. 启动系统
1. 激活虚拟环境
   ```bash
   # Windows
   venv\Scripts\activate
   # Linux/macOS
   source venv/bin/activate
   ```

2. 启动应用
   ```bash
   python app.py
   ```

3. 打开浏览器，访问 http://127.0.0.1:5000/

### 2. 上传图纸
1. 在首页点击"选择文件"按钮，选择要分析的PDF格式工程图纸
2. 从下拉菜单中选择零件材料类型（如碳钢、不锈钢、铝合金等）
3. 输入需要加工的零件数量
4. 点击"上传并分析"按钮

### 3. 编辑识别结果
1. 系统分析完成后，将显示自动识别的几何特征
2. 检查并编辑以下关键参数：
   - 基本尺寸（长度、宽度、高度）
   - 表面粗糙度要求
   - 槽特征数据（长度、宽度、深度）
   - 螺纹特征（规格、长度）
3. 点击"保存编辑"按钮

### 4. 计算加工时间
1. 在编辑页面点击"计算加工时间"按钮
2. 系统将显示计算结果页面，包括：
   - 车削加工时间
   - 磨削加工时间
   - 铣削加工时间
   - 螺纹加工时间
   - 总加工时间
3. 可以点击"返回编辑页面"修改参数，或点击"返回首页"处理新图纸

### 5. 未来功能规划
批量计算功能目前尚未实现，计划在未来版本中添加以下功能：
1. 批量上传多个PDF图纸
2. 批量处理已分析过的图纸
3. 设置统一的批量计算参数
4. 生成批量计算报告

## 文档结构
本目录包含以下文档：

1. [需求文档](需求文档.md) - 详细描述系统的功能需求和非功能需求
2. [部署文档](部署文档.md) - 提供系统部署和配置的详细说明
3. [技术文档](技术文档.md) - 描述系统架构、模块结构和关键算法
4. [测试文档](测试文档.md) - 包含系统测试计划、测试用例和测试结果

## 系统架构
系统采用B/S架构，主要由以下组件构成:
- Web前端: HTML/CSS/JavaScript
- Web后端: Flask框架
- 图纸分析引擎: ShapeAnalyzer类
- 加工时间计算引擎: che.py

## 技术栈
- 后端: Python, Flask
- 前端: HTML, CSS, JavaScript
- 图像处理: pdf2image, Poppler
- AI模型: Gemini API

## 版本历史
- v1.0.0 - 初始版本，支持基本的图纸分析和时间计算
- v1.0.1 - 修复了chechuang.py中的缩进错误，优化了加工时间计算公式 